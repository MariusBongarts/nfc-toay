(function(e){function t(t){for(var n,i,c=t[0],u=t[1],s=t[2],d=0,l=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&l.push(a[i][0]),a[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},o=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"71666a23"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(e);var s=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(d);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",s.name="ChunkLoadError",s.type=n,s.request=o,r[1](s)}a[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=s;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"286d":function(e,t,r){},"804a":function(e,t,r){"use strict";(function(e){r("c19f"),r("d3b7"),r("ac1f"),r("1276"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("96cf");var n=r("1da1"),a=r("d4ec"),o=r("bee2"),i=r("262e"),c=r("2caf"),u=r("9ab4"),s=r("ce1f"),d=r("b178"),f=function(t){Object(i["a"])(u,t);var r=Object(c["a"])(u);function u(){var e;return Object(a["a"])(this,u),e=r.apply(this,arguments),e.recording=!1,e.playing=!1,e.id="1f023f05-8541-46d8-93a3-f07223df81f3",e.firebaseService=new d["a"],e}return Object(o["a"])(u,[{key:"startAudio",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.playing){e.next=8;break}return e.next=3,this.firebaseService.getBase64(this.id);case 3:return t=e.sent,e.next=6,this.parseBase64ToAudioBuffer(t);case 6:r=e.sent,this.play(r);case 8:this.playing&&this.player.stop(),this.playing=!this.playing;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"record",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.recording){e.next=3;break}return e.next=3,this.startRecording();case 3:this.recording&&this.mediaRecorder.stop(),this.recording=!this.recording;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startRecording",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:t=e.sent,this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.start(),r=[],this.mediaRecorder.addEventListener("dataavailable",(function(e){r.push(e.data)})),this.mediaRecorder.addEventListener("stop",Object(n["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Blob(r),e.next=3,a.parseAudioBlobToBase64(t);case 3:return n=e.sent,localStorage.base64=n,e.next=7,a.firebaseService.saveBase64(a.id,n);case 7:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"parseAudioBlobToBase64",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new window.FileReader,r.readAsDataURL(t),e.abrupt("return",new Promise((function(e){r.onloadend=function(){var t=r.result+"";t=t.split(",")[1],e(t)}})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseBase64ToAudioBuffer",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var n,a,o,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=new ArrayBuffer(r.length),a=e.from(r,"base64"),o=new Uint8Array(n),i=0;i<a.length;++i)o[i]=a[i];return c=new AudioContext,t.next=7,c.decodeAudioData(n);case 7:return u=t.sent,t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"play",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=new AudioContext,this.player=r.createBufferSource(),this.player.buffer=t,this.player.connect(r.destination),this.player.start(0),this.player.onended=function(){return n.playing=!1};case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),u}(s["b"]);f=Object(u["__decorate"])([Object(s["a"])({components:{}})],f),t["a"]=f}).call(this,r("b639").Buffer)},"9cdc":function(e,t,r){"use strict";r("c701")},b178:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("96cf");var n=r("1da1"),a=r("d4ec"),o=r("bee2"),i=r("59ca"),c=(r("e71f"),function(){function e(){Object(a["a"])(this,e);var t={apiKey:"AIzaSyCThyp2XTKCTlJXB7Ej27HY_BL1irnyEnM",authDomain:"webmarker-3dd8c.firebaseapp.com",databaseURL:"https://webmarker-3dd8c.firebaseio.com",projectId:"webmarker-3dd8c",storageBucket:"webmarker-3dd8c.appspot.com",messagingSenderId:"199422612040",appId:"1:199422612040:web:7a65ac697f99023450be7d"};i["initializeApp"](t)}return Object(o["a"])(e,[{key:"getBase64",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i["firestore"](),e.next=3,r.collection("audios").doc(t).get();case 3:if(n=e.sent,!n.exists){e.next=8;break}return a=n.data(),console.log(a),e.abrupt("return",a.base64);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveBase64",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=i["firestore"](),n.collection("audios").doc(t).set({id:t,base64:r});case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}())},c701:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function a(e,t,r,a,o,i){var c=Object(n["q"])("router-view");return Object(n["m"])(),Object(n["c"])(c)}r("9cdc");const o={};o.render=a;var i=o,c=r("9483");Object(c["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("d3b7");var u=r("8c4f"),s={class:"home"},d={id:"recordedAudio",ref:"audioPlayer"};function f(e,t,r,a,o,i){return Object(n["m"])(),Object(n["c"])("div",s,[Object(n["d"])("button",{id:"recButton",class:e.recording?"Rec":"notRec",onClick:t[1]||(t[1]=function(){return e.record.apply(e,arguments)})},null,2),Object(n["d"])("button",{id:"playButton",class:e.playing?"Play":"notPlay",onClick:t[2]||(t[2]=function(){return e.startAudio.apply(e,arguments)})},null,2),Object(n["d"])("audio",d,null,512)])}var l=r("804a");r("e69a");l["a"].render=f;var p=l["a"],b=[{path:"/",name:"Home",component:p},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],h=Object(u["a"])({history:Object(u["b"])("/"),routes:b}),v=h;Object(n["b"])(i).use(v).mount("#app")},e69a:function(e,t,r){"use strict";r("286d")}});
//# sourceMappingURL=app.a759ba6a.js.map